<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lalisa comestic shop - Giỏ hàng</title>
    <link href="https://fonts.googleapis.com/css2?family=Italiana&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link href="main.css" rel="stylesheet" type="text/css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://kit.fontawesome.com/427bfa9f3e.js" crossorigin="anonymous"></script>
    <script src="cart.js"></script>
</head>

<body>
    <div id="myPage" data-spy="scroll" data-target=".navbar" data-offset="60">
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="index.html" class="navbar-brand">Lalisa Shop</a>
                </div>
                <div class="collapse navbar-collapse" id="myNavbar">
                    <ul class="nav navbar-nav">
                        <li><a href="index.html">TRANG CHỦ</a></li>
                        <li><a href="all-products.html">SẢN PHẨM</a></li>
                        <li><a href="direction.html">HƯỚNG DẪN MUA HÀNG</a></li>
                        <li><a href="about-us.html">VỀ CHÚNG TÔI</a></li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#"><span
                                    class="glyphicon glyphicon-user"></span> Tài khoản <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="log-in.html"><span class="glyphicon glyphicon-user"></span> Đăng nhập</a>
                                </li>
                                <li><a href="register.html"><span class="glyphicon glyphicon-log-in"></span> Đăng ký</a>
                                </li>
                            </ul>
                        </li>
                        <li class="active"><a href="cart.html"><i class="fas fa-cart-arrow-down"></i> Giỏ hàng</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="jumbotron text-center">
            <img src="images/logo_br3.png" alt="">
            <p>Mỹ phẩm chính hãng inisfree với giá tốt nhất</p>
        </div>

        <div class="container">
            <div class="left col-sm-9">
                <div class="wrapper">
                    <h1>SHOPPING CART</h1>
                    <br />
                    <div class="row">
                        <table class="table table-bordered" id="table-products">
                            <thead>
                                <tr>
                                    <th>Id</th>
                                    <th>Name</th>
                                    <th>Price</th>
                                    <th>Quantity</th>
                                    <th>Total</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                    <div>
                        <button class="btn btn-lg btn-success" id="button-clear">Clear</button>
                    </div>
                    <h1>CÁC SẢN PHẨM ĐƯỢC ƯA CHUỘNG NHẤT</h1>
                    <div class="row boxes">
                        <div class="col-md-4 box">
                            <a class="a" href="#"><img src="images/moi1.png" width="225px" height="225px" /></a><br />
                            <div align="center">
                                <a href="#">Real Fit Matte Lipstick 3.6g</a>
                            </div>
                            <p><del>330.000 VNĐ</del></p>
                            <h4>290.000 VNĐ</h4>
                            <div align="center">
                                <button id="001" data-name="Real Fit Matte Lipstick 3.6g" data-price="290.000"
                                    class="add-to-cart btn btn-primary">Mua hàng</button>
                            </div>
                        </div>
                        <div class="col-md-4 box">
                            <a class="a" href="#"><img src="images/moi2.png" width="225px" height="225px" /></a><br />
                            <div align="center">
                                <a href="#">Green Tea Mist 50ml</a>
                            </div>
                            <p><del>140.000 VNĐ</del></p>
                            <h4>120.000 VNĐ</h4>
                            <div align="center">
                                <button id="002" data-name="Green Tea Mist 50ml" data-price="120.000"
                                    class="add-to-cart btn btn-primary">Mua hàng</button>
                            </div>
                        </div>
                        <div class="col-md-4 box">
                            <a class="a" href="#"><img src="images/moi3.png" width="225px" height="225px" /></a><br />
                            <div align="center">
                                <a href="#">Cherry Blossom Cream 50ml</a>
                            </div>
                            <p><del>500.000 VNĐ</del></p>
                            <h4>390.000 VNĐ</h4>
                            <div align="center">
                                <button id="003" data-name="Cherry Blossom Cream 50ml" data-price="390.000"
                                    class="add-to-cart btn btn-primary">Mua hàng</button>
                            </div>
                        </div>
                    </div>
                    <div class="row boxes">
                        <div class="col-md-4 box">
                            <a class="a" href="#"><img src="images/banchay1.png" width="225px"
                                    height="225px" /></a><br />
                            <div align="center">
                                <a href="#">Green Tea Cleansing Water 300ml</a>
                            </div>
                            <p><del>340.000 VNĐ</del></p>
                            <h4>300.000 VNĐ</h4>
                            <div align="center">
                                <button id="004" data-name="Green Tea Cleansing Water 300ml" data-price="300.000"
                                    class="add-to-cart btn btn-primary">Mua hàng</button>
                            </div>
                        </div>
                        <div class="col-md-4 box">
                            <a class="a" href="#"><img src="images/banchay2.png" width="225px"
                                    height="225px" /></a><br />
                            <div align="center">
                                <a href="#">Squeeze Mask [Rose] 20ml</a>
                            </div>
                            <p><del>27.000 VNĐ</del></p>
                            <h4>20.000 VNĐ</h4>
                            <div align="center">
                                <button id="005" data-name="Squeeze Mask [Rose] 20ml" data-price="20.000"
                                    class="add-to-cart btn btn-primary">Mua hàng</button>
                            </div>
                        </div>
                        <div class="col-md-4 box">
                            <a class="a" href="trinam3.html"><img src="images/banchay3.png" width="225px"
                                    height="225px" /></a><br />
                            <div align="center">
                                <a href="#">Super Volcanic Pore Clay Mask</a>
                            </div>
                            <p><del>340.000 VNĐ</del></p>
                            <h4>300.000 VNĐ</h4>
                            <div align="center">
                                <button id="006" data-name="Super Volcanic Pore Clay Mask" data-price="390.000"
                                    class="add-to-cart btn btn-primary">Mua hàng</button>
                            </div>
                        </div>
                    </div>
                    <div class="text-right">
                        <hr />
                        <address>
                            Developed by Vo Thi To Nhu - Lalisa Comestic Shop
                        </address>
                    </div>
                </div>
                <marquee class="wish">Never too late to be young</marquee>
            </div>
            <div class="right col-sm-3">
                <div class="support">
                    <h4>HỖ TRỢ TRỰC TUYẾN</h4>
                    <img src="images/icon2.png" />
                    <div class="support1">
                        <p> Tư vấn 1</p>
                        <a href="https://www.facebook.com/nhubach8/"><img src="images/lisa2.jpg" width="auto"
                                height="150px" /></a>
                        <p> Điện Thoại: 0365813933</p>
                    </div>
                    <div class="support2">
                        <p> Tư vấn 2</p>
                        <a href="https://www.facebook.com/nhubach8/"><img src="images/lisa3.jpg" width="auto"
                                height="150px" /></a>
                        <p> Điện Thoại: 0354250123</p>
                    </div>
                </div>
                <div class="support">
                    <h4>SHOP LOCATION</h4>
                    <img src="images/icon2.png" />
                    <iframe
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3834.0054449083045!2d108.15306181433667!3d16.065207243814182!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x314219261e8b7323%3A0xe647f9be27309771!2zNTQzIFTDtG4gxJDhu6ljIFRo4bqvbmcsIEhvw6AgS2jDoW5oIE5hbSwgTGnDqm4gQ2hp4buDdSwgxJDDoCBO4bq1bmcgNTUwMDAwLCBWaWV0bmFt!5e0!3m2!1sfr!2s!4v1586267020405!5m2!1sfr!2s"
                        width="260" height="260" frameborder="0" style="border:0;" allowfullscreen=""
                        aria-hidden="false" tabindex="0"></iframe>
                </div>
                <div>
                    <img src="images/log.png" width="260px" />
                </div>
            </div>
        </div>
        <div id="contact" class="container bg-gray">
            <h2 class="text-center">LIÊN HỆ</h2>
            <div class="row">
                <div class="col-sm-5">
                    <p>Hãy liên hệ với chúng tôi, chúng tôi sẽ trả lời trong vòng 24h</p>
                    <p><span class="glyphicon glyphicon-map-marker"> Đà Nẵng - Việt Nam</span></p>
                    <p><span class="glyphicon glyphicon-phone"> 0365.813.933</span></p>
                    <p><span class="glyphicon glyphicon-envelope"> hotro@gmail.com</span></p>
                </div>
                <div class="col-sm-7 slideanim">
                    <div class="row">
                        <div class="col-sm-6 form-group">
                            <input class="form-control" name="name" id="name" placeholder="Tên">
                        </div>
                        <div class="col-sm-6 form-group">
                            <input class="form-control" name="email" id="email" placeholder="Email">
                        </div>
                    </div>
                    <textarea class="form-control" id="comments" name="comments" placeholder="Ghi chú" cols="28"
                        rows="9"></textarea>
                    <div class="row">
                        <div class="col-sm-12 form-group">
                            <button class="btn btn-default pull-right" type="submit">Gửi yêu cầu</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <footer class="container text-center">
            <a href="#myPage" type="To Top">
                <span class="glyphicon glyphicon-chevron-up"></span>
            </a>
            <p>Mỹ phẩm chính hãng giá tốt tại Đà Nẵng<a href="www.lalisashop.vn"></a></p>
        </footer>
        <div id="author" class="container">
            <div class="col-sm-6">
                <h2>Design by Nhu Vothito</h2>
                <p>Địa chỉ: 459 Tôn Đức Thắng- Hòa Khánh- Liên Chiểu- Đà Nẵng</p>
                <p>Tel: 0365.813.933 - Email:Tonhuiqsc@gmail.com</p>
            </div>
        </div>
    </div>
    <script>
        // Định nghĩa một mảng các phần tử sẽ bỏ vào giỏ hàng
        var shoppingCartItems = [];

        $(document).ready(function () {
            // Kiểm tra nếu đã có sessionStorage["shopping-cart-items"] hay chưa?
            if (sessionStorage["shopping-cart-items"] != null) {
                shoppingCartItems = JSON.parse(sessionStorage["shopping-cart-items"].toString());
            }

            // Hiển thị thông tin từ giỏ hàng
            displayShoppingCartItems();
        });


        // Sự kiện click các button có class=".add-to-cart"
        $(".add-to-cart").click(function () {
            var button = $(this); // Lấy đối tượng button mà người dùng click
            var id = button.attr("id"); // id của sản phẩm là id của button
            var name = button.attr("data-name"); // name của sản phẩm là thuộc tính data-name của button
            var price = button.attr("data-price"); // price của sản phẩm là thuộc tính data-price của button
            var quantity = 1; // Số lượng


            var item = {
                id: id,
                name: name,
                price: price,
                quantity: quantity
            };

            var exists = false;
            if (shoppingCartItems.length > 0) {
                $.each(shoppingCartItems, function (index, value) {
                    // Nếu mặt hàng đã tồn tại trong giỏ hàng thì chỉ cần tăng số lượng mặt hàng đó trong giỏ hàng.
                    if (value.id == item.id) {
                        value.quantity++;
                        exists = true;
                        return false;
                    }
                });
            }

            // Nếu mặt hàng chưa tồn tại trong giỏ hàng thì bổ sung vào mảng
            if (!exists) {
                shoppingCartItems.push(item);
            }

            // Lưu thông tin vào sessionStorage
            sessionStorage["shopping-cart-items"] = JSON.stringify(shoppingCartItems); // Chuyển thông tin mảng shoppingCartItems sang JSON trước khi lưu vào sessionStorage
            // Gọi hàm hiển thị giỏ hàng
            displayShoppingCartItems();
        });

        // Xóa hết giỏ hàng shoppingCartItems
        $("#button-clear").click(function () {
            shoppingCartItems = [];
            sessionStorage["shopping-cart-items"] = JSON.stringify(shoppingCartItems);
            $("#table-products > tbody").html("");
        });


        // Hiển thị giỏ hàng ra table
        function displayShoppingCartItems() {
            if (sessionStorage["shopping-cart-items"] != null) {
                shoppingCartItems = JSON.parse(sessionStorage["shopping-cart-items"].toString()); // Chuyển thông tin từ JSON trong sessionStorage sang mảng shoppingCartItems.

                $("#table-products > tbody").html("");
                // Duyệt qua mảng shoppingCartItems để append từng item dòng vào table
                $.each(shoppingCartItems, function (index, item) {
                    var htmlString = "";
                    htmlString += "<tr>";
                    htmlString += "<td>" + item.id + "</td>";
                    htmlString += "<td>" + item.name + "</td>";
                    htmlString += "<td style='text-align: right'>" + item.price + "</td>";
                    htmlString += "<td style='text-align: right'>" + item.quantity + "</td>";
                    htmlString += "<td style='text-align: right'>" + item.price * item.quantity + "</td>";
                    htmlString += "</tr>";

                    $("#table-products > tbody:last").append(htmlString);

                });
            }
        }
    </script>
</body>

</html>